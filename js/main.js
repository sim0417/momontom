(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _clock=_interopRequireDefault(require("./clock")),_welcome=_interopRequireDefault(require("./welcome")),_todoList=_interopRequireDefault(require("./todoList")),_weather=_interopRequireDefault(require("./weather")),_randomBackground=_interopRequireDefault(require("./randomBackground"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var App=function(){function e(t){_classCallCheck(this,e),_defineProperty(this,"state",{}),this.$target=t,this.initTemplate(),this.initUserData(),this.clock=new _clock.default({$target:this.$main}),this.welcome=new _welcome.default({$target:this.$main}),this.todoList=new _todoList.default({$target:this.$main}),this.weather=new _weather.default({$target:this.$header}),this.randomBackground=new _randomBackground.default({$target:t})}return _createClass(e,[{key:"initTemplate",value:function(){this.$header=document.createElement("header"),this.$target.append(this.$header),this.$main=document.createElement("main"),this.$target.append(this.$main)}},{key:"initUserData",value:function(){}}]),e}();exports.default=App;

},{"./clock":2,"./randomBackground":4,"./todoList":5,"./weather":6,"./welcome":7}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Clock=function(){function e(t){var r=this,n=t.$target;_classCallCheck(this,e),_defineProperty(this,"render",function(){var e=r.$clock.querySelector(".clock-time"),t=new Date,n=t.getHours();n=String(n).padStart(2,"0");var a=t.getMinutes();a=String(a).padStart(2,"0");var c=t.getSeconds();c=String(c).padStart(2,"0"),e.innerText="".concat(n,":").concat(a,":").concat(c)});var a=document.createElement("section");a.id="clock",a.innerHTML=this.makeTemplate(),n.append(a),this.$clock=a,this.runClock()}return _createClass(e,[{key:"makeTemplate",value:function(){return'<h1 class="clock-time"></h1>'}},{key:"runClock",value:function(){setInterval(this.render,1e3)}}]),e}();exports.default=Clock;

},{}],3:[function(require,module,exports){
"use strict";var _app=_interopRequireDefault(require("./app"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var main=document.querySelector("#app");new _app.default(main);

},{"./app":1}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,a,n){return a&&_defineProperties(e.prototype,a),n&&_defineProperties(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var IMG_PATH="../images",ARRAY_IMG=["image_1.jpg","image_2.jpg","image_3.jpg","image_4.jpg"],RandomBackground=function(){function e(a){var n=a.$target;_classCallCheck(this,e);var t=new Image,r=this.getRandomIndex();t.src="".concat(IMG_PATH,"/").concat(ARRAY_IMG[r]),t.classList.add("bg-image"),this.$image=t,n.append(t)}return _createClass(e,[{key:"getRandomIndex",value:function(){return Math.floor(Math.random()*ARRAY_IMG.length)}}]),e}();exports.default=RandomBackground;

},{}],5:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var LOCAL_KET_USER_TODO="userTodo",STATUS_PENDING="pending",STATUS_FINISHED="finished",ACTION_DELETE="delete",ACTION_MOVE_TO_FINISHED="move-to-finished",ACTION_MOVE_TO_PENDING="move-to-pending",TodoList=function(){function t(e){var n=this,i=e.$target;_classCallCheck(this,t),_defineProperty(this,"todos",[]),_defineProperty(this,"setTodoStateEventHendler",function(t){var e=t.target,i=e.dataset.action;if(i){var s=e.parentElement.dataset.id,o=n.todos.findIndex(function(t){return s===t.id});o>-1&&n.processTaskAction({idx:o,action:i})}});var s=localStorage.getItem(LOCAL_KET_USER_TODO);s&&(this.todos=JSON.parse(s));var o=document.createElement("section");o.id="todoList",o.innerHTML=this.makeTemplate(),this.$todoList=o,i.append(o),this.initEventListener(),this.render()}return _createClass(t,[{key:"makeTemplate",value:function(){return'\n    <article class="todo__title">\n      <h2>ToDo-List</h2>\n      <form class="form-todo">\n        <input type="text" placeholder="Add Task">\n      </form>\n    </article>\n\n    <article class="todo__column">\n      <h2>Pending</h2>\n      <ul class="todo__list" id="pending-list"></ul>\n    </article>\n\n    <article class="todo__column">\n      <h2>Finished</h2>\n      <ul class="todo__list" id="finished-list"></ul>\n    </article>\n    '}},{key:"initEventListener",value:function(){var t=this,e=this.$todoList.querySelector("form"),n=this.$todoList.querySelector("#pending-list"),i=this.$todoList.querySelector("#finished-list");e.addEventListener("submit",function(e){e.preventDefault();var n=e.target.querySelector("input");t.addNewTask(n.value),n.value=null}),n.addEventListener("click",this.setTodoStateEventHendler),i.addEventListener("click",this.setTodoStateEventHendler)}},{key:"addNewTask",value:function(t){var e={id:String((new Date).getTime()),task:t,status:STATUS_PENDING};this.todos.push(e),this.setState(this.todos)}},{key:"processTaskAction",value:function(t){var e=t.idx,n=t.action;if(n===ACTION_DELETE)this.todos.splice(e,1);else if(n===ACTION_MOVE_TO_FINISHED||n===ACTION_MOVE_TO_PENDING){var i=this.todos[e];i.status=n===ACTION_MOVE_TO_FINISHED?STATUS_FINISHED:STATUS_PENDING,this.todos.splice(e,1),this.todos.push(i)}this.setState(this.todos)}},{key:"setState",value:function(t){this.todos=t,this.render(),localStorage.setItem(LOCAL_KET_USER_TODO,JSON.stringify(this.todos))}},{key:"render",value:function(){var t=this.$todoList.querySelector("#pending-list"),e=this.$todoList.querySelector("#finished-list");t.innerHTML=this.todos.map(function(t){var e="";return t.status===STATUS_PENDING&&(e="\n        <li>\n          <span>".concat(t.task,'</span>\n          <div class="task-list__buttons" data-id="').concat(t.id,'">\n            <button class="btn" data-action="').concat(ACTION_MOVE_TO_FINISHED,'"></button>\n            <button class="btn" data-action="').concat(ACTION_DELETE,'"></button>\n          </div>        \n        </li>')),e}).join(""),e.innerHTML=this.todos.map(function(t){var e="";return t.status===STATUS_FINISHED&&(e="\n        <li>\n          <span>".concat(t.task,'</span>\n          <div class="task-list__buttons" data-id="').concat(t.id,'">\n            <button class="btn" data-action="').concat(ACTION_MOVE_TO_PENDING,'"></button>\n            <button class="btn" data-action="').concat(ACTION_DELETE,'"></button>\n          </div>\n        </li>')),e}).join("")}}]),t}();exports.default=TodoList;

},{}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var LOCAL_KET_USER_LOCATION="userLocation",WEATHER_API_KEY="e2e41e4ae74c3339b0b1ab184943a746",BASE_URL="https://api.openweathermap.org",ICON_URL="http://openweathermap.org/img/wn/",weather=function(){function e(t){var n=this,a=t.$target;_classCallCheck(this,e),_defineProperty(this,"userLocation",null),_defineProperty(this,"handleGetGeoInfoSuccess",function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};n.userLocation=t,localStorage.setItem(LOCAL_KET_USER_LOCATION,JSON.stringify(t)),n.getWeather()}),_defineProperty(this,"getWeather",function(){var e=n.userLocation,t=e.lat,a=e.lng,r="".concat(BASE_URL,"/data/2.5/weather?lat=").concat(t,"&lon=").concat(a,"&appid=").concat(WEATHER_API_KEY,"&units=metric"),o=n.$weather;fetch(r).then(function(e){return e.json()}).then(function(e){var t=e.main.temp,n=e.name,a=null==e?void 0:e.weather[0],r="";if(a){var i=a.icon;r="".concat(ICON_URL).concat(i,".png")}o.innerHTML='\n        <img src="'.concat(r,'">\n        <span>').concat(t,"℃ @ ").concat(n,"</span>")})});var r=document.createElement("div");r.id="weather",this.$weather=r,a.append(r);var o=localStorage.getItem(LOCAL_KET_USER_LOCATION);o?(this.userLocation=JSON.parse(o),this.getWeather()):this.askForLocation()}return _createClass(e,[{key:"askForLocation",value:function(){navigator.geolocation.getCurrentPosition(this.handleGetGeoInfoSuccess,null)}}]),e}();exports.default=weather;

},{}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var LOCAL_KET_USER_NAME="userName",welcome=function(){function e(t){var r=t.$target;_classCallCheck(this,e),_defineProperty(this,"userName",null);var n=localStorage.getItem(LOCAL_KET_USER_NAME);n&&(this.userName=n);var a=document.createElement("section");a.id="welcome",this.$welcome=a,r.append(a),this.render()}return _createClass(e,[{key:"setState",value:function(e){this.userName=e,this.render(),localStorage.setItem(LOCAL_KET_USER_NAME,e)}},{key:"render",value:function(){var e=this;if(this.userName){var t=(new Date).getHours(),r=null;r=t<6?"Hellow":t<12?"Good Morning":t<18?"Good Afternoon":"Good Evening",this.$welcome.innerHTML='<h3 class="user-name__greeting">'.concat(r,", ").concat(this.userName," !</h3>")}else this.$welcome.innerHTML='\n      <form class="user-name">\n        <input class="user-name__input" type="text" placeholder="What\'s your name ?">\n      </form>',this.$welcome.querySelector("form").addEventListener("submit",function(t){t.preventDefault();var r=t.target.querySelector(".user-name__input").value;e.setState(r)})}}]),e}();exports.default=welcome;

},{}]},{},[3]);
